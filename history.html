<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Historial de Pedidos - Govinda's</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <h1>Historial de Pedidos</h1>
    <nav>
      <a href="index.html" class="menu-link">Volver al Menú</a>
    </nav>
  </header>

  <main>
    <section>
      <h2>Pedidos Anteriores</h2>
      <ul id="order-history-list"></ul>
    </section>
  </main>

  <script>
    // Cargar el historial de pedidos desde localStorage
    const orderHistory = JSON.parse(localStorage.getItem('orderHistory')) || [];

    // Función para mostrar el historial de pedidos
    function renderOrderHistory() {
      const orderHistoryList = document.getElementById('order-history-list');

      if (orderHistory.length === 0) {
        orderHistoryList.innerHTML = '<p>No hay pedidos previos.</p>';
        return;
      }

      orderHistory.forEach(order => {
        const orderDate = new Date(order.orderDate); // Crear un objeto Date con la fecha y hora
        const orderDateFormatted = orderDate.toLocaleString(); // Fecha y hora en formato legible

        const li = document.createElement('li');
        li.innerHTML = `
          <h3>Pedido ID: ${order.orderId}</h3>
          <p><strong>Fecha y Hora:</strong> ${orderDateFormatted}</p>
          <p><strong>Total:</strong> $${order.totalPrice}</p>
          <h4>Productos:</h4>
          <ul>
            ${order.orderItems.map(item => `
              <li>${item.product} x${item.quantity} - $${item.unitPrice} c/u - Total: $${item.totalPrice}</li>
            `).join('')}
          </ul>
        `;
        orderHistoryList.appendChild(li);
      });
    }

    // Llamar a la función para renderizar el historial de pedidos
    renderOrderHistory();
  </script>
</body>
</html>

